
<%- include('../../fragments/header.ejs') %>

<main>

    <h2> <%= __('uni.form.details.pageTitle') %></h2>

   <form >

    <label for="brand"> <%= __('uni.fields.brand') %>:</label>
    <input type="text" name="brand" id="brand" value="<%= uni.brand %>" disabled>
    <span class="error-text" id="errorBrand"></span>

    <label for="model"> <%= __('uni.fields.model') %>:</label>
    <input type="text" name="model" id="model" value="<%= uni.model %>" disabled>
    <span class="error-text" id="errorModel"></span>

    <label for="waterproofRating"> <%= __('uni.fields.waterproofRat') %>: </label>
    <input type="text" name="waterproofRating" id="waterproofRating" value="<%= uni.waterproofRating ? uni.waterproofRating : '-'  %>" disabled>
    <span class="error-text" id="errorWaterproofRating"></span>
    
    <label for="price"> <%= __('uni.fields.price') %>:</label>
    <input type="number" name="price" id="price" min="0" value="<%= uni.price %>" disabled>
    <span class="error-text" id="errorPrice"></span>
    
    <label for="availableQuantity"> <%= __('uni.fields.avQuantity') %>:</label>
    <input type="number" name="availableQuantity" id="availableQuantity" value="<%= uni.availableQuantity %>" disabled>
    <span class="error-text" id="errorAvailableQuantity"></span>

    <label for="motorPower"> <%= __('uni.fields.mPower') %>:</label>
    <input type="number" name="motorPower" id="motorPower" value="<%= uni.motorPower %>" disabled>
    <span class="error-text" id="errorMotorPower"></span>

    <label for="batteryCapacity"> <%= __('uni.fields.battery') %>:</label>
    <input type="number" name="batteryCapacity" id="batteryCapacity" min="0" step="20" value="<%= uni.batteryCapacity %>" disabled>
    <span class="error-text" id="errorBatteryCapacity"></span>

    <label for="tireDiameter"> <%= __('uni.fields.tireDiameter') %>:</label>
    <input type="number" name="tireDiameter" id="tireDiameter" min="10" value="<%= uni.tireDiameter %>" disabled>
    <span class="error-text" id="errorTireDiameter"></span>

   </form>

    
   <div class="uni-parts" >
    <h3> <%= __('uni.form.avParts') %></h3>

    <% if(! (uni.parts.length == 0) ) { %>

        <table class="table-list">
        <thead>
            <tr>
                <th> <%= __('parts.fields.name') %> </th>
                <th> <%= __('parts.fields.price') %> </th>
                <th> <%= __('parts.fields.avQuantity') %> </th>
            </tr>   
        </thead>
        <tbody>

            <% for( let p of uni.parts) { %>

            <tr>
                <td> <a class="to-details" href="/parts/details/<%= p.idPart %>"> <%= p.name %> </a> </td>
                <td> <%= p.price %> </td>
                <td> <%= p.availableQuantity %> </td>
            </tr>
            
            <% } %>

        </tbody>
    </table>
    <% }else{ %>
        <p>  <%= __('uni.form.noAvParts') %></p>
    <% } %>
  
    </div>
    <% if(loggedUser){ %>
    <p> <a class="form-details-button-edit" href="/unicycles/edit/<%=uni.idUnicycle%>"><i class="fas fa-edit"></i></a></p>
    <% } %>
    <p> <a class="form-details-button-return" href="/unicycles"><i class="fas fa-undo-alt"></i></a></p>

</main>

<%- include('../../fragments/footer.ejs') %>